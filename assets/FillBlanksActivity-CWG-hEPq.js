import{_ as Q,f as x,c as V,g as H,w as J,a as l,b as u,o,e,k as f,u as p,V as P,t as a,F as R,p as X,U as Y,q as h,s as A,v as k,J as F,W as Z,K as M,Q as ee,R as te,C as N,X as se,P as le}from"./index-Bhcq-Itw.js";import{G as oe}from"./PhArrowClockwise.vue-BrmsOuP4.js";import{G as ae}from"./PhXCircle.vue-B2wpGlyM.js";const ne={class:"bg-indigo-600 px-6 py-5 flex justify-between items-center shrink-0"},re={class:"flex items-center gap-3"},ie={class:"bg-white/20 p-2 rounded-lg"},de={class:"text-lg font-bold text-white m-0"},ce={class:"h-1 bg-slate-200 shrink-0"},ue={class:"p-8 overflow-hidden flex flex-col flex-1 bg-slate-100"},ve={class:"text-slate-500 text-center font-bold mb-6 uppercase tracking-wider text-sm"},xe={class:"flex flex-col lg:flex-row gap-8 flex-1 min-h-0"},be={class:"w-full lg:w-1/2 flex items-center justify-center bg-white rounded-3xl border-4 border-slate-300 p-6 shadow-inner relative overflow-hidden h-full"},fe=["src"],pe={class:"flex-1 flex flex-col h-full overflow-y-auto pr-4 pb-4 scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent"},he={key:0,class:"space-y-6"},me={class:"bg-emerald-600 text-white p-6 rounded-2xl shadow-lg flex items-center gap-4 animate-in fade-in zoom-in duration-300"},ge={class:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center"},we={class:"grid gap-4"},_e={class:"flex items-center justify-between"},ye={class:"font-mono font-bold text-slate-400"},ke={class:"text-2xl font-black text-slate-800 flex items-center gap-3"},Ce={class:"text-slate-300 text-base font-medium"},Ae={key:0,class:"text-lg text-slate-600 leading-snug bg-slate-50 p-3 rounded-lg flex flex-wrap gap-x-1 items-center border border-slate-100"},Se={key:0},Ve={key:1,class:"font-bold text-emerald-600"},je={key:2,class:"font-bold text-indigo-600 underline decoration-indigo-200"},Ie={key:1,class:"text-lg text-slate-500 italic bg-slate-50 p-3 rounded-lg border border-slate-100"},Oe={class:"flex justify-between items-center bg-slate-200/50 p-6 rounded-2xl mt-8"},Te={key:1,class:"h-full flex flex-col"},Be={class:"text-xs font-black text-indigo-500 uppercase tracking-widest mb-4"},ze={class:"text-xl font-bold text-slate-800 mb-6 leading-relaxed"},Fe={key:0,class:"relative mb-4"},Le=["disabled"],Ge={key:0,class:"absolute right-4 top-1/2 -translate-y-1/2"},Ue={key:1,class:"flex items-center justify-between"},Me={key:1,class:"text-xs font-bold text-amber-600 bg-amber-50 px-3 py-2 rounded-lg mr-4 border border-amber-100"},Ne=["disabled"],We={key:0,class:"mt-6 bg-white rounded-2xl p-6 border-b-8 border-emerald-500 shadow-xl animate-in slide-in-from-top-4 duration-500"},$e={class:"flex items-center gap-2 mb-4"},Ke={class:"bg-emerald-500 text-white p-1.5 rounded-lg shadow-sm"},qe={class:"text-xl font-bold text-slate-800 mb-6 leading-relaxed flex flex-wrap items-center gap-y-2"},De={key:0},Ee={key:1,class:"font-black text-emerald-600 px-2 py-0.5 bg-emerald-50 rounded-md border border-emerald-200 mx-1"},Qe={key:2,class:"inline-block relative"},He=["onUpdate:modelValue","disabled"],Je=["value"],Pe={key:0,class:"flex justify-end mt-4"},Re=["disabled"],Xe={__name:"FillBlanksActivity",props:{isOpen:Boolean,title:{type:String,default:"Vul de Lege Plekken In"},instruction:{type:String,default:"Typ het juiste woord of getal"},questions:{type:Array,default:()=>[]}},emits:["close","complete"],setup(m,{emit:W}){const C=m,j=W,v=x(0),g=x(""),i=x(null),S=x(!1),w=x([]),_=x(!1),I=x(0),y=x([]),b=x(null),n=V(()=>C.questions[v.value]||{}),$=V(()=>Math.round(v.value/C.questions.length*100)),K=V(()=>w.value.filter(r=>r.correct).length),O=V(()=>`fill-blanks-progress-${C.title.replace(/\s+/g,"-").toLowerCase()}`);H(()=>{const r=localStorage.getItem(O.value);if(r)try{const s=JSON.parse(r);v.value=s.currentIndex||0,w.value=s.results||[],_.value=s.isComplete||!1,B()}catch{T()}else T()}),J([v,w,_],()=>{const r={currentIndex:v.value,results:w.value,isComplete:_.value};localStorage.setItem(O.value,JSON.stringify(r))},{deep:!0});function T(){v.value=0,B(),w.value=[],_.value=!1,localStorage.removeItem(O.value)}function B(){g.value="",i.value=null,S.value=!1,I.value=0,y.value=[],b.value=null}function q(r){if(!r)return"";if(r.startsWith("http")||r.startsWith("data:"))return r;const s="/3hw/";let t=r;return t.startsWith("./")&&(t=t.substring(2)),t.startsWith("/")&&(t=t.substring(1)),s.endsWith("/")?s+t:s+"/"+t}function L(){if(i.value==="correct")return;const r=g.value.trim().toLowerCase(),s=n.value.answer.toLowerCase();r===s||n.value.altAnswers&&n.value.altAnswers.some(t=>t.toLowerCase()===r)?(i.value="correct",n.value.extension?setTimeout(()=>{I.value=1,y.value=n.value.extension.filter(t=>t.type==="select").map(()=>"")},500):(w.value.push({correct:!0,answer:n.value.answer}),setTimeout(G,1500))):(i.value="incorrect",setTimeout(()=>{i.value=null,g.value=""},1500))}function D(){n.value.extension.filter(t=>t.type==="select").every((t,d)=>t.correct===y.value[d])?(b.value="correct",w.value.push({correct:!0,answer:n.value.answer}),setTimeout(G,1500)):(b.value="incorrect",setTimeout(()=>{b.value=null},1500))}function G(){v.value<C.questions.length-1?(v.value++,B()):_.value=!0}function E(){_.value&&K.value===C.questions.length?j("complete"):j("close")}function U(){j("close")}return(r,s)=>m.isOpen?(o(),l("div",{key:0,class:"modal-backdrop open",onClick:U},[e("div",{class:"modal-content max-w-7xl w-[95vw] flex flex-col h-[90vh] max-h-[90vh]",onClick:s[2]||(s[2]=le(()=>{},["stop"]))},[e("div",ne,[e("div",re,[e("div",ie,[f(p(P),{weight:"bold",class:"text-xl text-white"})]),e("div",null,[e("h3",de,a(m.title),1),s[3]||(s[3]=e("p",{class:"text-xs text-white/70 m-0"},"Diagram Analyse",-1))])]),e("button",{onClick:U,class:"text-white/70 hover:text-white p-2 rounded-full transition-colors"},[f(p(R),{class:"text-2xl"})])]),e("div",ce,[e("div",{class:"h-full bg-emerald-500 transition-all duration-500 ease-out",style:X({width:$.value+"%"})},null,4)]),e("div",ue,[e("p",ve,a(m.instruction),1),e("div",xe,[e("div",be,[e("img",{src:q(m.questions[0]?.image),class:"max-h-full max-w-full object-contain",alt:"Vraag afbeelding"},null,8,fe)]),e("div",pe,[_.value?(o(),l("div",he,[e("div",me,[e("div",ge,[f(p(Y),{weight:"fill",class:"text-4xl text-white"})]),s[4]||(s[4]=e("div",null,[e("h4",{class:"text-2xl font-black m-0 leading-tight"},"Analyse Voltooid!"),e("p",{class:"text-white/80 m-0 font-medium"},"Overzicht van de krachten op de doos:")],-1))]),e("div",we,[(o(!0),l(h,null,A(m.questions,(t,d)=>(o(),l("div",{key:d,class:k(["bg-white p-6 rounded-2xl border-l-8 shadow-sm flex flex-col gap-2 translate-x-0 transition-transform hover:translate-x-2",d===3?"border-amber-400 opacity-80":"border-emerald-500"])},[e("div",_e,[e("span",{class:k(["text-sm font-black uppercase tracking-widest",d===3?"text-amber-600":"text-emerald-600"])},a(d===3?"Bonus Recap":"Kracht #"+(d+1)),3),e("span",ye,"0"+a(d+1),1)]),e("div",ke,[F(a(t.answer)+" ",1),e("span",Ce,"("+a(t.altAnswers[0])+")",1)]),t.extension?(o(),l("p",Ae,[f(p(Z),{weight:"bold",class:"text-indigo-500 mr-2 shrink-0"}),(o(!0),l(h,null,A(t.extension,(c,z)=>(o(),l(h,{key:z},[c.type==="text"?(o(),l("span",Se,a(c.value),1)):c.type==="auto"?(o(),l("span",Ve,a(t.answer),1)):c.type==="select"?(o(),l("span",je,a(c.correct),1)):u("",!0)],64))),128))])):(o(),l("p",Ie,a(t.sentence.split("___").join(t.answer)),1))],2))),128))]),e("div",Oe,[e("button",{onClick:T,class:"px-6 py-3 bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 rounded-xl font-bold flex items-center gap-2 transition-colors"},[f(p(oe),{weight:"bold"}),s[5]||(s[5]=F(" Opnieuw ",-1))]),e("button",{onClick:E,class:"px-10 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-black text-lg shadow-lg hover:shadow-indigo-200 transition-all"}," Sluiten ")])])):(o(),l("div",Te,[e("div",Be," Opgave "+a(v.value+1)+" / "+a(m.questions.length),1),e("div",{class:k(["bg-white rounded-2xl p-6 border-2 shadow-sm transition-all",i.value==="correct"?"border-emerald-200 bg-emerald-50/30":"border-white shadow-md"])},[e("div",ze,[(o(!0),l(h,null,A(n.value.sentence.split("___"),(t,d)=>(o(),l(h,{key:d},[e("span",null,a(t),1),d<n.value.sentence.split("___").length-1?(o(),l("span",{key:0,class:k(["inline-block min-w-[120px] mx-1 border-b-4 border-dashed border-indigo-400 text-indigo-700 text-center px-4",{"text-emerald-700 border-emerald-500 border-solid bg-emerald-100 rounded-t-lg":i.value==="correct"}])},a(i.value==="correct"?n.value.answer:g.value||"..."),3)):u("",!0)],64))),128))]),i.value!=="correct"?(o(),l("div",Fe,[M(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>g.value=t),onKeydown:te(L,["enter"]),disabled:i.value==="incorrect",type:"text",class:k(["w-full px-5 py-3 text-lg bg-slate-50 border-2 border-slate-200 rounded-xl outline-none focus:border-indigo-500 focus:bg-white transition-all font-bold text-slate-800 placeholder:font-normal placeholder:text-slate-400",{"border-red-400 bg-red-50 text-red-700":i.value==="incorrect"}]),placeholder:"Typ je antwoord...",autocomplete:"off",autocapitalize:"off"},null,42,Le),[[ee,g.value]]),i.value==="incorrect"?(o(),l("div",Ge,[f(p(ae),{weight:"fill",class:"text-2xl text-red-500"})])):u("",!0)])):u("",!0),i.value!=="correct"?(o(),l("div",Ue,[n.value.hint&&!S.value?(o(),l("button",{key:0,onClick:s[1]||(s[1]=t=>S.value=!0),class:"text-xs font-bold text-amber-500 flex items-center gap-1"},[f(p(N),{weight:"fill"}),s[6]||(s[6]=F(" Hint nodig? ",-1))])):u("",!0),S.value?(o(),l("p",Me,a(n.value.hint),1)):u("",!0),e("button",{onClick:L,disabled:!g.value.trim()||i.value==="incorrect",class:"ml-auto px-6 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-300 text-white font-black rounded-xl transition-all shadow-sm"}," Verstuur ",8,Ne)])):u("",!0)],2),I.value===1?(o(),l("div",We,[e("div",$e,[e("div",Ke,[f(p(N),{weight:"bold",class:"text-lg"})]),s[7]||(s[7]=e("h4",{class:"text-sm font-black text-emerald-600 uppercase tracking-widest"},"Dieper Inzicht",-1))]),e("div",qe,[(o(!0),l(h,null,A(n.value.extension,(t,d)=>(o(),l(h,{key:d},[t.type==="text"?(o(),l("span",De,a(t.value),1)):t.type==="auto"?(o(),l("span",Ee,a(n.value.answer),1)):t.type==="select"?(o(),l("div",Qe,[M(e("select",{"onUpdate:modelValue":c=>y.value[n.value.extension.filter(z=>z.type==="select").indexOf(t)]=c,disabled:b.value==="correct",class:k(["mx-1 px-3 py-1 bg-white border-2 border-slate-200 rounded-lg outline-none font-black text-indigo-600 text-lg cursor-pointer hover:border-indigo-400 focus:border-indigo-600 transition-colors appearance-none pr-8 min-w-[100px]",{"border-emerald-400 bg-emerald-50 !text-emerald-600":b.value==="correct","border-red-400 bg-red-50 !text-red-600":b.value==="incorrect"}])},[s[8]||(s[8]=e("option",{disabled:"",value:""},"...",-1)),(o(!0),l(h,null,A(t.options,c=>(o(),l("option",{key:c,value:c},a(c),9,Je))),128))],10,He),[[se,y.value[n.value.extension.filter(c=>c.type==="select").indexOf(t)]]]),s[9]||(s[9]=e("div",{class:"pointer-events-none absolute inset-y-0 right-2 flex items-center px-1 text-slate-400"},[e("svg",{class:"fill-current h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1))])):u("",!0)],64))),128))]),b.value!=="correct"?(o(),l("div",Pe,[e("button",{onClick:D,disabled:y.value.includes(""),class:"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-300 text-white font-black rounded-xl transition-all shadow-md"}," Bevestig ",8,Re)])):u("",!0)])):u("",!0)]))])])])])])):u("",!0)}},tt=Q(Xe,[["__scopeId","data-v-dcd035be"]]);export{tt as default};
