import{d as P,i as A,c as h,a as r,o as n,r as E,b as v,e,m as I,S as J,w as K,_ as W,f as U,k as f,u as o,t as g,F as X,q as D,s as N,v as O,l as Y,j as Q,J as R,B as $,K as ee,Q as te,T as le,P as se}from"./index-y4fj1ZsC.js";import{F as ae}from"./PhArrowRight.vue-C79opr7-.js";import{G as oe}from"./PhWarning.vue-CS4x3IjH.js";import{C as ie,a as ne,L as re,P as de,b as ce,c as ue,S as pe,p as ge,d as he,e as be,f as T}from"./index-BNhFGH_p.js";const fe=["width","height","fill","transform"],me={key:0},ve=e("path",{d:"M244,56v64a12,12,0,0,1-24,0V85l-75.51,75.52a12,12,0,0,1-17,0L96,129,32.49,192.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0L136,135l67-67H168a12,12,0,0,1,0-24h64A12,12,0,0,1,244,56Z"},null,-1),xe=[ve],ye={key:1},ke=e("path",{d:"M232,56v64L168,56Z",opacity:"0.2"},null,-1),we=e("path",{d:"M232,48H168a8,8,0,0,0-5.66,13.66L188.69,88,136,140.69l-34.34-34.35a8,8,0,0,0-11.32,0l-72,72a8,8,0,0,0,11.32,11.32L96,123.31l34.34,34.35a8,8,0,0,0,11.32,0L200,99.31l26.34,26.35A8,8,0,0,0,240,120V56A8,8,0,0,0,232,48Zm-8,52.69L187.31,64H224Z"},null,-1),_e=[ke,we],Ce={key:2},Me=e("path",{d:"M240,56v64a8,8,0,0,1-13.66,5.66L200,99.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31,29.66,189.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0L136,140.69,188.69,88,162.34,61.66A8,8,0,0,1,168,48h64A8,8,0,0,1,240,56Z"},null,-1),je=[Me],Se={key:3},Le=e("path",{d:"M238,56v64a6,6,0,0,1-12,0V70.48l-85.76,85.76a6,6,0,0,1-8.48,0L96,120.49,28.24,188.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0L136,143.51,217.52,62H168a6,6,0,0,1,0-12h64A6,6,0,0,1,238,56Z"},null,-1),Ae=[Le],De={key:4},Ne=e("path",{d:"M240,56v64a8,8,0,0,1-16,0V75.31l-82.34,82.35a8,8,0,0,1-11.32,0L96,123.31,29.66,189.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0L136,140.69,212.69,64H168a8,8,0,0,1,0-16h64A8,8,0,0,1,240,56Z"},null,-1),Oe=[Ne],Fe={key:5},ze=e("path",{d:"M236,56v64a4,4,0,0,1-8,0V65.66l-89.17,89.17a4,4,0,0,1-5.66,0L96,117.66,26.83,186.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0L136,146.34,222.34,60H168a4,4,0,0,1,0-8h64A4,4,0,0,1,236,56Z"},null,-1),Ve=[ze],Be={name:"PhTrendUp"},He=P({...Be,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(x){const b=x,m=A("weight","regular"),s=A("size","1em"),a=A("color","currentColor"),y=A("mirrored",!1),p=h(()=>b.weight??m),C=h(()=>b.size??s),S=h(()=>b.color??a),M=h(()=>b.mirrored!==void 0?b.mirrored?"scale(-1, 1)":void 0:y?"scale(-1, 1)":void 0);return(k,z)=>(n(),r("svg",I({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:C.value,height:C.value,fill:S.value,transform:M.value},k.$attrs),[E(k.$slots,"default"),p.value==="bold"?(n(),r("g",me,xe)):p.value==="duotone"?(n(),r("g",ye,_e)):p.value==="fill"?(n(),r("g",Ce,je)):p.value==="light"?(n(),r("g",Se,Ae)):p.value==="regular"?(n(),r("g",De,Oe)):p.value==="thin"?(n(),r("g",Fe,Ve)):v("",!0)],16,fe))}}),F="lab-report-data",u=J({student:{name:"",class:""},team:{size:2,members:[]},prep:{problemStatement:"",variables:{independent:null,dependent:null},hypothesis:{value1:null,value2:null,graph:null,motivation:""},setupMotivation:"",safety:null},lab:{mode:"dynamometer",rows:[],calculatedG:0,chartImage:null,relationship:{type:null,equation:""},hypothesisCheck:{match:null,explanation:""},theoryLink:"",filesDownloaded:!1,slopeMeaning:null},conclusion:""});K(u,()=>{localStorage.setItem(F,JSON.stringify(u))},{deep:!0});function Re(){function x(){const s=localStorage.getItem(F);if(s)try{const a=JSON.parse(s);a.student&&Object.assign(u.student,a.student),a.prep&&Object.assign(u.prep,a.prep),a.lab&&Object.assign(u.lab,a.lab),a.conclusion!==void 0&&(u.conclusion=a.conclusion)}catch(a){console.error("Failed to parse lab report",a)}}function b(){localStorage.setItem(F,JSON.stringify(u))}function m(){localStorage.removeItem(F),Object.assign(u.student,{name:"",class:""}),Object.assign(u.prep,{problemStatement:"",variables:{independent:null,dependent:null},hypothesis:{value1:null,value2:null,graph:null,motivation:""},setupMotivation:"",safety:null}),Object.assign(u.lab,{mode:"dynamometer",rows:[],calculatedG:0,chartImage:null,relationship:{type:null,equation:""},hypothesisCheck:{match:null,explanation:""},theoryLink:"",filesDownloaded:!1,slopeMeaning:null}),u.conclusion=""}return{reportData:u,loadReport:x,saveReport:b,resetReport:m}}const $e={class:"bg-indigo-600 px-6 py-4 flex justify-between items-center shrink-0"},Te={class:"flex items-center gap-3"},Ze={class:"bg-white/20 p-2 rounded-lg text-white"},qe={class:"text-lg font-bold text-white m-0"},Ge={class:"px-8 py-4 border-b border-slate-100 flex justify-center gap-2"},Pe={class:"p-0 overflow-y-auto flex-1 relative bg-slate-50"},Ee={key:0,class:"h-full flex flex-col p-8"},Ie={class:"flex-1 bg-white rounded-xl shadow-lg border border-slate-200 p-4 relative min-h-[300px]"},Je={key:1,class:"absolute inset-0 flex flex-col items-center justify-center text-slate-400"},Ke={key:1,class:"h-full flex flex-col lg:flex-row divide-y lg:divide-y-0 lg:divide-x divide-slate-200"},We={class:"h-64 lg:h-auto lg:w-1/3 p-4 bg-white flex flex-col"},Ue={class:"flex-1 relative min-h-0"},Xe={class:"flex-1 p-8 space-y-8 overflow-y-auto"},Ye={class:"space-y-3"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},et=["onClick"],tt={key:0,class:"space-y-3"},lt={class:"flex flex-wrap gap-3"},st=["onClick"],at={key:2,class:"h-full flex flex-col lg:flex-row divide-y lg:divide-y-0 lg:divide-x divide-slate-200"},ot={class:"lg:w-1/3 p-6 bg-indigo-900 text-white space-y-6"},it={class:"text-lg italic mt-2 font-serif text-indigo-100"},nt={class:"mt-2 space-y-2 text-sm text-indigo-100"},rt={class:"flex items-center gap-2"},dt={key:0,class:"flex items-center gap-2"},ct={class:"flex-1 p-8 space-y-6 overflow-y-auto"},ut={class:"grid grid-cols-3 gap-2 bg-slate-100 p-1 rounded-lg"},pt=["onClick"],gt={class:"space-y-2"},ht={class:"flex justify-between items-end"},bt={class:"p-6 border-t border-slate-100 flex justify-between items-center bg-slate-50 shrink-0"},ft={class:"text-xs text-slate-400 uppercase tracking-widest font-bold"},mt=["disabled"],vt={__name:"DigitalAnalysisModal",props:{isOpen:Boolean,title:{type:String,default:"Verwerking & Besluit"}},emits:["close","complete"],setup(x,{emit:b}){ie.register(ne,re,de,ce,ue,pe,ge,he,be);const m=b,{reportData:s}=Re(),a=U(0),y=h(()=>(s.lab.rows||[]).filter(i=>{const t=parseFloat(i.mass),l=parseFloat(i.force);return!isNaN(t)&&!isNaN(l)&&t>0&&l>=0}).map(i=>({...i,mass:parseFloat(i.mass),force:parseFloat(i.force)}))),p=h(()=>{const i=y.value;if(i.length<2)return{slope:0,intercept:0,rSquared:0};const t=i.length;let l=0,d=0,w=0,c=0;i.forEach(_=>{l+=_.mass,d+=_.force,w+=_.mass*_.force,c+=_.mass*_.mass});const L=t*c-l*l;if(L===0)return{slope:0,intercept:0,rSquared:0};const H=(t*w-l*d)/L,G=(d-H*l)/t;return{slope:H,intercept:G}}),C=h(()=>{const i=y.value;if(i.length===0)return{datasets:[]};const t=i.map(c=>c.mass),l=Math.min(...t,0),d=Math.max(...t)*1.1||1,w=[{x:l,y:p.value.slope*l+p.value.intercept},{x:d,y:p.value.slope*d+p.value.intercept}];return{datasets:[{label:"Metingen",data:i.map(c=>({x:c.mass,y:c.force})),backgroundColor:"#4F46E5",borderColor:"#4338CA",pointRadius:6},{label:"Trendlijn",data:w,type:"line",borderColor:"#94A3B8",backgroundColor:"transparent",borderWidth:2,pointRadius:0,tension:0,borderDash:[5,5]}]}}),S=h(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:i=>`m: ${i.parsed.x} kg, F: ${i.parsed.y} N`}}},scales:{x:{title:{display:!0,text:"Massa (kg)"},beginAtZero:!0},y:{title:{display:!0,text:"Zwaartekracht (N)"},beginAtZero:!0}}})),M=[{id:"proportional",label:"Recht evenredig (Rechte door de oorsprong)",equation:"Fz = c . m"},{id:"linear",label:"Lineair (Rechte niet door de oorsprong)",equation:"Fz = a . m + b"},{id:"squared",label:"Kwadratisch (Parabool)",equation:"Fz = c . m²"},{id:"inverse",label:"Omgekeerd evenredig (Hyperbool)",equation:"Fz = c / m"}],k=[{id:"g",label:"De zwaarteveldsterkte (g)",value:"9,81 N/kg"},{id:"m",label:"De massa (m)",value:"kg"},{id:"k",label:"De veerconstante (k)",value:"N/m"},{id:"none",label:"Geen betekenis",value:"-"}],z=[{id:"confirmed",label:"Bevestigd",desc:"Mijn voorspelling was correct."},{id:"rejected",label:"Verworpen",desc:"Mijn voorspelling was fout."},{id:"partial",label:"Deels",desc:"Het klopte maar gedeeltelijk."}],Z=h(()=>a.value===0?y.value.length>=2:a.value===1?s.lab.relationship.type&&s.lab.slopeMeaning:a.value===2?s.lab.hypothesisCheck.match&&s.lab.hypothesisCheck.explanation.length>20:!0),j=h(()=>{const i=s.lab.hypothesisCheck.match,t=s.lab.relationship.type,l=s.lab.slopeMeaning;if(!i||!t)return"";let d="";i==="confirmed"?d+="Mijn hypothese wordt bevestigd. ":i==="rejected"?d+="Mijn hypothese wordt verworpen. ":d+="Mijn hypothese wordt deels bevestigd. ";const w=M.find(c=>c.id===t)?.label.split("(")[0].trim().toLowerCase();if(d+=`De grafiek toont een ${w} verband tussen massa en zwaartekracht`,(t==="proportional"||t==="linear")&&l){const c=k.find(L=>L.id===l)?.label;l==="g"?d+=`, met een richtingscoëfficiënt die overeenkomt met ${c.toLowerCase()}.`:l!=="none"?d+=`, waarbij de richtingscoëfficiënt overeenkomt met ${c.toLowerCase()}.`:d+="."}else d+=".";return d});function V(){s.lab.hypothesisCheck.explanation=j.value}function q(){a.value<2?a.value++:(m("complete"),m("close"))}function B(){m("close"),setTimeout(()=>{a.value=0},300)}return(i,t)=>x.isOpen?(n(),r("div",{key:0,class:"modal-backdrop open",onClick:B},[e("div",{class:"modal-content max-w-4xl bg-white flex flex-col max-h-[95vh] overflow-hidden",onClick:t[1]||(t[1]=se(()=>{},["stop"]))},[e("div",$e,[e("div",Te,[e("div",Ze,[f(o(He),{weight:"fill",class:"text-xl"})]),e("div",null,[e("h3",qe,g(x.title),1),t[2]||(t[2]=e("p",{class:"text-xs text-indigo-200 m-0"},"Analyse & Reflectie",-1))])]),e("button",{onClick:B,class:"text-white/70 hover:text-white p-2 rounded-full transition-colors"},[f(o(X),{class:"text-2xl"})])]),e("div",Ge,[(n(),r(D,null,N(3,l=>e("div",{key:l,class:O(["h-2 rounded-full transition-all duration-300",a.value>=l-1?"w-12 bg-indigo-500":"w-4 bg-slate-200"])},null,2)),64))]),e("div",Pe,[f(le,{name:"fade-slide",mode:"out-in"},{default:Y(()=>[a.value===0?(n(),r("div",Ee,[t[5]||(t[5]=e("div",{class:"text-center mb-6"},[e("h4",{class:"text-xl font-bold text-slate-800"},"Jouw Resultaten"),e("p",{class:"text-slate-500"},"Kijk goed naar de grafiek die je hebt gemaakt.")],-1)),e("div",Ie,[y.value.length>=2?(n(),Q(o(T),{key:0,data:C.value,options:S.value},null,8,["data","options"])):(n(),r("div",Je,[f(o(oe),{class:"text-4xl mb-2 text-amber-500"}),t[3]||(t[3]=e("p",{class:"font-bold text-slate-700"},"Nog geen data beschikbaar",-1)),t[4]||(t[4]=e("p",{class:"text-sm"},'Ga terug naar de stap "Metingen Invoeren" om je data in te vullen.',-1))]))])])):a.value===1?(n(),r("div",Ke,[e("div",We,[t[6]||(t[6]=e("p",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2"},"Jouw Grafiek",-1)),e("div",Ue,[f(o(T),{data:C.value,options:{...S.value,plugins:{legend:{display:!1}}}},null,8,["data","options"])])]),e("div",Xe,[t[9]||(t[9]=e("h4",{class:"text-xl font-bold text-slate-800"},"Analyseer de Vorm",-1)),e("div",Ye,[t[7]||(t[7]=e("label",{class:"font-bold text-slate-700 block"},"1. Welk wiskundig verband zie je?",-1)),e("div",Qe,[(n(),r(D,null,N(M,l=>e("button",{key:l.id,class:O(["p-3 rounded-lg border-2 text-left text-sm transition-all hover:border-indigo-300",o(s).lab.relationship.type===l.id?"border-indigo-600 bg-indigo-50 text-indigo-900 font-bold":"border-slate-200 text-slate-600"]),onClick:d=>o(s).lab.relationship.type=l.id},g(l.label),11,et)),64))])]),o(s).lab.relationship.type==="proportional"||o(s).lab.relationship.type==="linear"?(n(),r("div",tt,[t[8]||(t[8]=e("label",{class:"font-bold text-slate-700 block"},"2. Wat betekent de helling (richtingscoëfficiënt)?",-1)),e("div",lt,[(n(),r(D,null,N(k,l=>e("button",{key:l.id,class:O(["px-4 py-2 rounded-full border-2 text-sm transition-all hover:scale-105",o(s).lab.slopeMeaning===l.id?"border-indigo-600 bg-indigo-600 text-white":"border-slate-200 text-slate-600 hover:border-indigo-300"]),onClick:d=>o(s).lab.slopeMeaning=l.id},g(l.label),11,st)),64))])])):v("",!0)])])):a.value===2?(n(),r("div",at,[e("div",ot,[e("div",null,[t[10]||(t[10]=e("span",{class:"text-xs font-bold text-indigo-300 uppercase tracking-widest"},"Jouw Hypothese",-1)),e("p",it,' "Als m '+g(o(s).prep.hypothesis.value1)+", dan zal Fz "+g(o(s).prep.hypothesis.value2)+'." ',1)]),e("div",null,[t[11]||(t[11]=e("span",{class:"text-xs font-bold text-indigo-300 uppercase tracking-widest"},"Jouw Analyse",-1)),e("ul",nt,[e("li",rt,[f(o($),{weight:"fill"}),R(" "+g(M.find(l=>l.id===o(s).lab.relationship.type)?.label),1)]),o(s).lab.slopeMeaning?(n(),r("li",dt,[f(o($),{weight:"fill"}),R(" Helling = "+g(k.find(l=>l.id===o(s).lab.slopeMeaning)?.label),1)])):v("",!0)])])]),e("div",ct,[t[13]||(t[13]=e("h4",{class:"text-xl font-bold text-slate-800"},"Het Besluit",-1)),e("div",ut,[(n(),r(D,null,N(z,l=>e("button",{key:l.id,class:O(["py-2 rounded-md text-sm font-bold transition-all",o(s).lab.hypothesisCheck.match===l.id?l.id==="confirmed"?"bg-emerald-500 text-white shadow-sm":l.id==="rejected"?"bg-rose-500 text-white shadow-sm":"bg-amber-500 text-white shadow-sm":"text-slate-500 hover:bg-slate-200"]),onClick:d=>o(s).lab.hypothesisCheck.match=l.id},g(l.label),11,pt)),64))]),e("div",gt,[e("div",ht,[t[12]||(t[12]=e("label",{class:"font-bold text-slate-700"},"Formuleer je conclusie",-1)),j.value?(n(),r("button",{key:0,onClick:V,class:"text-xs text-indigo-600 font-bold hover:bg-indigo-50 px-2 py-1 rounded transition-colors"}," ✨ Gebruik suggestie ")):v("",!0)]),j.value&&o(s).lab.hypothesisCheck.explanation!==j.value?(n(),r("div",{key:0,class:"text-xs p-3 bg-indigo-50 text-indigo-800 rounded-lg border border-indigo-100 italic cursor-pointer hover:bg-indigo-100 transition-colors",onClick:V},' "'+g(j.value)+'" ',1)):v("",!0),ee(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=l=>o(s).lab.hypothesisCheck.explanation=l),class:"w-full h-40 p-4 rounded-xl border-2 border-slate-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all resize-none text-base leading-relaxed",placeholder:"Typ hier je besluit..."},null,512),[[te,o(s).lab.hypothesisCheck.explanation]])])])])):v("",!0)]),_:1})]),e("div",bt,[e("div",ft," Stap "+g(a.value+1)+" / 3 ",1),e("button",{onClick:q,class:"px-8 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!Z.value},[e("span",null,g(a.value===2?"Opslaan & Sluiten":"Volgende"),1),f(o(ae),{weight:"bold"})],8,mt)])])])):v("",!0)}},_t=W(vt,[["__scopeId","data-v-24a18699"]]);export{_t as default};
