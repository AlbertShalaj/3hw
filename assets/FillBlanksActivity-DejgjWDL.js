import{_ as Q,f as c,c as q,g as D,a as s,b as d,o,e,k as b,u as f,V as P,t as i,F as E,p as H,U as J,J as G,v as C,q as w,s as T,K as I,Q as R,R as X,C as M,W as Y,P as Z}from"./index-y4fj1ZsC.js";import{G as ee}from"./PhArrowClockwise.vue-ByTCAwva.js";import{G as te}from"./PhXCircle.vue-Bi2vGGKD.js";const le={class:"bg-indigo-600 px-6 py-5 flex justify-between items-center shrink-0"},se={class:"flex items-center gap-3"},oe={class:"bg-white/20 p-2 rounded-lg"},ae={class:"text-lg font-bold text-white m-0"},ne={class:"h-1 bg-slate-200 shrink-0"},re={class:"p-8 overflow-hidden flex flex-col flex-1 bg-slate-100"},ie={class:"text-slate-500 text-center font-bold mb-6 uppercase tracking-wider text-sm"},de={key:0,class:"text-center py-16 flex-1 flex flex-col justify-center"},ce={class:"w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce bg-emerald-100"},ue={class:"text-slate-500 mb-2 text-xl"},xe={class:"flex justify-center gap-4 mt-8"},ve={key:1,class:"flex flex-col lg:flex-row gap-8 flex-1 min-h-0"},be={key:0,class:"w-full lg:w-1/2 flex items-center justify-center bg-white rounded-3xl border-4 border-slate-300 p-4 shadow-inner relative overflow-hidden"},fe=["src"],me={class:"flex-1 flex flex-col h-full overflow-y-auto pr-2 pb-4 scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent"},he={class:"text-xs font-black text-indigo-500 uppercase tracking-widest mb-4"},pe={class:"text-xl font-bold text-slate-800 mb-6 leading-relaxed"},ge={key:0,class:"relative mb-4"},we=["disabled"],ye={key:0,class:"absolute right-4 top-1/2 -translate-y-1/2"},_e={key:1,class:"flex items-center justify-between"},ke={key:1,class:"text-xs font-bold text-amber-600 bg-amber-50 px-3 py-2 rounded-lg mr-4 border border-amber-100"},Ce=["disabled"],Ve={key:0,class:"mt-6 bg-white rounded-2xl p-6 border-b-8 border-emerald-500 shadow-xl animate-in slide-in-from-top-4 duration-500"},je={class:"flex items-center gap-2 mb-4"},Ae={class:"bg-emerald-500 text-white p-1.5 rounded-lg shadow-sm"},qe={class:"text-xl font-bold text-slate-800 mb-6 leading-relaxed flex flex-wrap items-center gap-y-2"},Te={key:0},Be={key:1,class:"font-black text-emerald-600 px-2 py-0.5 bg-emerald-50 rounded-md border border-emerald-200 mx-1"},Fe={key:2,class:"inline-block relative"},Le=["onUpdate:modelValue","disabled"],Ue=["value"],We={key:0,class:"flex justify-end mt-4"},ze=["disabled"],Ge={__name:"FillBlanksActivity",props:{isOpen:Boolean,title:{type:String,default:"Vul de Lege Plekken In"},instruction:{type:String,default:"Typ het juiste woord of getal"},questions:{type:Array,default:()=>[]}},emits:["close","complete"],setup(m,{emit:O}){const y=m,B=O,h=c(0),x=c(""),n=c(null),_=c(!1),k=c([]),V=c(!1),j=c(0),p=c([]),u=c(null),a=q(()=>y.questions[h.value]||{}),S=q(()=>Math.round(h.value/y.questions.length*100)),F=q(()=>k.value.filter(r=>r.correct).length);D(()=>{L()});function L(){h.value=0,U(),k.value=[],V.value=!1}function U(){x.value="",n.value=null,_.value=!1,j.value=0,p.value=[],u.value=null}function $(r){if(!r)return"";if(r.startsWith("http")||r.startsWith("data:"))return r;const l="/3hw/";let t=r;return t.startsWith("./")&&(t=t.substring(2)),t.startsWith("/")&&(t=t.substring(1)),l.endsWith("/")?l+t:l+"/"+t}function W(){if(n.value==="correct")return;const r=x.value.trim().toLowerCase(),l=a.value.answer.toLowerCase();r===l||a.value.altAnswers&&a.value.altAnswers.some(t=>t.toLowerCase()===r)?(n.value="correct",a.value.extension?setTimeout(()=>{j.value=1,p.value=a.value.extension.filter(t=>t.type==="select").map(()=>"")},500):(k.value.push({correct:!0}),setTimeout(z,1500))):(n.value="incorrect",setTimeout(()=>{n.value=null,x.value=""},1500))}function K(){a.value.extension.filter(t=>t.type==="select").every((t,g)=>t.correct===p.value[g])?(u.value="correct",k.value.push({correct:!0}),setTimeout(z,1500)):(u.value="incorrect",setTimeout(()=>{u.value=null},1500))}function z(){h.value<y.questions.length-1?(h.value++,U()):(V.value=!0,F.value===y.questions.length&&B("complete"))}function A(){B("close")}return(r,l)=>m.isOpen?(o(),s("div",{key:0,class:"modal-backdrop open",onClick:A},[e("div",{class:"modal-content max-w-6xl w-full flex flex-col h-[90vh] max-h-[90vh]",onClick:l[2]||(l[2]=Z(()=>{},["stop"]))},[e("div",le,[e("div",se,[e("div",oe,[b(f(P),{weight:"bold",class:"text-xl text-white"})]),e("div",null,[e("h3",ae,i(m.title),1)])]),e("button",{onClick:A,class:"text-white/70 hover:text-white p-2 rounded-full transition-colors"},[b(f(E),{class:"text-2xl"})])]),e("div",ne,[e("div",{class:"h-full bg-emerald-500 transition-all duration-500 ease-out",style:H({width:S.value+"%"})},null,4)]),e("div",re,[e("p",ie,i(m.instruction),1),V.value?(o(),s("div",de,[e("div",ce,[b(f(J),{weight:"fill",class:"text-5xl text-emerald-500"})]),l[4]||(l[4]=e("h4",{class:"text-3xl font-bold text-slate-900 mb-4"},"Fantastisch Werkgrip!",-1)),e("p",ue,i(F.value)+" van "+i(m.questions.length)+" correct",1),e("div",xe,[e("button",{onClick:L,class:"px-6 py-3 bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 rounded-xl font-bold flex items-center gap-2 transition-colors shadow-sm"},[b(f(ee),{weight:"bold",class:"text-xl"}),l[3]||(l[3]=G(" Opnieuw ",-1))]),e("button",{onClick:A,class:"px-8 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl font-bold transition-colors shadow-sm text-lg"}," Klaar! ")])])):(o(),s("div",ve,[a.value.image?(o(),s("div",be,[e("img",{src:$(a.value.image),class:"max-h-full max-w-full object-contain",alt:"Vraag afbeelding"},null,8,fe)])):d("",!0),e("div",me,[e("div",he," Opgave "+i(h.value+1)+" / "+i(m.questions.length),1),e("div",{class:C(["bg-white rounded-2xl p-6 border-2 shadow-sm transition-all",n.value==="correct"?"border-emerald-200 bg-emerald-50/30":"border-white shadow-md"])},[e("div",pe,[(o(!0),s(w,null,T(a.value.sentence.split("___"),(t,g)=>(o(),s(w,{key:g},[e("span",null,i(t),1),g<a.value.sentence.split("___").length-1?(o(),s("span",{key:0,class:C(["inline-block min-w-[120px] mx-1 border-b-4 border-dashed border-indigo-400 text-indigo-700 text-center px-4",{"text-emerald-700 border-emerald-500 border-solid bg-emerald-100 rounded-t-lg":n.value==="correct"}])},i(n.value==="correct"?a.value.answer:x.value||"..."),3)):d("",!0)],64))),128))]),n.value!=="correct"?(o(),s("div",ge,[I(e("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>x.value=t),onKeydown:X(W,["enter"]),disabled:n.value==="incorrect",type:"text",class:C(["w-full px-5 py-3 text-lg bg-slate-50 border-2 border-slate-200 rounded-xl outline-none focus:border-indigo-500 focus:bg-white transition-all font-bold text-slate-800 placeholder:font-normal placeholder:text-slate-400",{"border-red-400 bg-red-50 text-red-700":n.value==="incorrect"}]),placeholder:"Typ je antwoord...",autocomplete:"off",autocapitalize:"off"},null,42,we),[[R,x.value]]),n.value==="incorrect"?(o(),s("div",ye,[b(f(te),{weight:"fill",class:"text-2xl text-red-500"})])):d("",!0)])):d("",!0),n.value!=="correct"?(o(),s("div",_e,[a.value.hint&&!_.value?(o(),s("button",{key:0,onClick:l[1]||(l[1]=t=>_.value=!0),class:"text-xs font-bold text-amber-500 flex items-center gap-1"},[b(f(M),{weight:"fill"}),l[5]||(l[5]=G(" Hint nodig? ",-1))])):d("",!0),_.value?(o(),s("p",ke,i(a.value.hint),1)):d("",!0),e("button",{onClick:W,disabled:!x.value.trim()||n.value==="incorrect",class:"ml-auto px-6 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-300 text-white font-black rounded-xl transition-all shadow-sm"}," Verstuur ",8,Ce)])):d("",!0)],2),j.value===1?(o(),s("div",Ve,[e("div",je,[e("div",Ae,[b(f(M),{weight:"bold",class:"text-lg"})]),l[6]||(l[6]=e("h4",{class:"text-sm font-black text-emerald-600 uppercase tracking-widest"},"Dieper Inzicht",-1))]),e("div",qe,[(o(!0),s(w,null,T(a.value.extension,(t,g)=>(o(),s(w,{key:g},[t.type==="text"?(o(),s("span",Te,i(t.value),1)):t.type==="auto"?(o(),s("span",Be,i(a.value.answer),1)):t.type==="select"?(o(),s("div",Fe,[I(e("select",{"onUpdate:modelValue":v=>p.value[a.value.extension.filter(N=>N.type==="select").indexOf(t)]=v,disabled:u.value==="correct",class:C(["mx-1 px-3 py-1 bg-white border-2 border-slate-200 rounded-lg outline-none font-black text-indigo-600 text-lg cursor-pointer hover:border-indigo-400 focus:border-indigo-600 transition-colors appearance-none pr-8 min-w-[100px]",{"border-emerald-400 bg-emerald-50 !text-emerald-600":u.value==="correct","border-red-400 bg-red-50 !text-red-600":u.value==="incorrect"}])},[l[7]||(l[7]=e("option",{disabled:"",value:""},"...",-1)),(o(!0),s(w,null,T(t.options,v=>(o(),s("option",{key:v,value:v},i(v),9,Ue))),128))],10,Le),[[Y,p.value[a.value.extension.filter(v=>v.type==="select").indexOf(t)]]]),l[8]||(l[8]=e("div",{class:"pointer-events-none absolute inset-y-0 right-2 flex items-center px-1 text-slate-400"},[e("svg",{class:"fill-current h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1))])):d("",!0)],64))),128))]),u.value!=="correct"?(o(),s("div",We,[e("button",{onClick:K,disabled:p.value.includes(""),class:"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-300 text-white font-black rounded-xl transition-all shadow-md"}," Bevestig ",8,ze)])):d("",!0)])):d("",!0)])]))])])])):d("",!0)}},Se=Q(Ge,[["__scopeId","data-v-f01e0dfb"]]);export{Se as default};
